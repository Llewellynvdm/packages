{
    "name": "Joomla! Mastodon Feed",
    "description": "Joomla! Mastodon Feed",
    "dynamic_get": "",
    "snippet": "0",
    "guid": "9dc804de-f98b-4db9-9b83-4034184c3992",
    "php_view": "\/\/ Extract all keys from $displayData as individual variables.\r\nextract($displayData ?? []);\r\n\r\n\/\/ Default fallback values\r\n$defaultValues = [\r\n\t[ \/\/ Llewellyn\r\n\t\t'account' => '112766899254600077',\r\n\t\t'instance' => 'https:\/\/joomla.social',\r\n\t\t'invite_url' => 'https:\/\/joomla.social\/invite\/gzAvC48K',\r\n\t\t'invite_heading' => Text::_(\"Llewellyn's Joomla! Social Feed\"),\r\n\t\t'invite_title' => Text::_(\"Join JCB's lead developer on Joomla! social a Mastodon instance.\")\r\n\/\/\t], \/\/ removed since the feed is inactive at this time. if active, we can add it back in.\r\n\/\/\t[ \/\/ Joomla\r\n\/\/\t\t'account' => '112755435087541569',\r\n\/\/\t\t'instance' => 'https:\/\/joomla.social',\r\n\/\/\t\t'invite_url' => 'https:\/\/joomla.social\/invite\/PCXktw8g',\r\n\/\/\t\t'invite_heading' => Text::_(\"Joomla! Social Feed\"),\r\n\/\/\t\t'invite_title' => Text::_(\"Join Joomla! social a Mastodon instance!\")\r\n\t]\r\n];\r\n\r\n\/\/ List of default accounts\r\n$defaultAccounts ??= $defaultValues;\r\n\r\n\/\/ function to retrieve active account\r\n$getActiveAccount = function ($accounts, array $defaults): object {\r\n\tif (!empty($accounts) && is_array($accounts)) {\r\n\t\t\/\/ Select a random account and return it as an object\r\n\t\treturn (object) $accounts[array_rand($accounts)];\r\n\t}\r\n\t\/\/ Return defaults as an object if no accounts are available\r\n\treturn (object) $defaults;\r\n};\r\n\r\n\/\/ Get the active account\r\n$activeAccount = $getActiveAccount($defaultAccounts, $defaultValues[0]);\r\n\r\n\/\/ Assign values\r\n\r\n\/\/ The 'id' parameter, defaulting to mastodon-feed.\r\n$id ??= 'mastodon-feed';\r\n\r\n\/\/ The button 'id' parameter, defaulting to refresh-feed.\r\n$button_id ??= 'refresh-feed';\r\n\r\n\/\/ The number of post to load\r\n$posts ??= 5;\r\n\r\n\/\/ The URL of the Mastodon instance to use; defaults to the instance of the selected account.\r\n$instance ??= $activeAccount->instance;\r\n\r\n\/\/ The unique account ID for the selected Mastodon account; defaults to the ID of the selected account.\r\n$account ??= $activeAccount->account;\r\n\r\n\/\/ The invitation URL for the Mastodon instance, used to invite others to join; defaults to the invite URL of the selected account.\r\n$invite_url ??= $activeAccount->invite_url;\r\n\r\n\/\/ The heading displayed for the invitation; defaults to the invite heading of the selected account.\r\n$invite_heading ??= $activeAccount->invite_heading;\r\n\r\n\/\/ The title displayed for the invitation; defaults to the invite title of the selected account.\r\n$invite_title ??= $activeAccount->invite_title;\r\n",
    "add_php_view": 1,
    "layout": "<div  class=\"well well-small mastadon-display-block\">\r\n\t<h2>\r\n\t\t<a\r\n\t\t\thref=\"<?php echo $invite_url; ?>\"\r\n\t\t\ttitle=\"<?php echo $invite_title; ?>\">\r\n\t\t\t\t<?php echo $invite_heading; ?>\r\n\t\t<\/a>&nbsp;&nbsp;\r\n\t\t<a\r\n\t\t\ttype=\"button\"\r\n\t\t\tid=\"<?php echo $button_id; ?>\"\r\n\t\t\thref=\"#\"\r\n\t\t\ttitle=\"<?php echo Text::_('Refresh Feed'); ?>\">\r\n\t\t\t\t<i class=\"icon-loop\"><\/i>\r\n\t\t<\/a>\r\n\t<\/h2>\r\n\t<div id=\"<?php echo $id; ?>\"\r\n\t\tdata-instance=\"<?php echo $instance; ?>\"\r\n\t\tdata-account-id=\"<?php echo $account; ?>\"\r\n\t\tdata-post-count=\"<?php echo $posts; ?>\">\r\n\t<\/div>\r\n\t<script>\r\n\t\tnew MastodonFeed(\"<?php echo $id; ?>\", \"<?php echo $button_id; ?>\");\r\n\t<\/script>\r\n<\/div>",
    "libraries": null,
    "alias": "mastodon"
}